"use strict";var conf={xhrStatus:!1,nodeBody:$("body"),nodeDoc:$(document)},globalApp={init:function(){this.globalEventsInit(),this.executeModules(),this.lazyImages()},executeModules:function(e){(e=e||conf.nodeBody).find("[data-is]").each((function(e,t){var s=$(t),a=s.attr("data-is");if(s.closest(".hidden-content").length)return console.log("%cSkip: '".concat(a,"' - module hidden."),"color:#444;"),!0;moduleApp[a]?(console.log("%cRun: '".concat(a,"' - module executed."),"color:#009900;"),moduleApp[a](s)):console.log("%cError: '".concat(a,"' - module not defined."),"color:#ff6347;")}))},globalEventsInit:function(){conf.nodeDoc.on("click","[data-gclick]",(function(e){e.preventDefault();var t=$(this),s=t.attr("data-gclick"),a=t.val()||t.data().value;globalApp.globalEventsActions[s]?globalApp.globalEventsActions[s](t,a):console.log("Event: 'data-gclick', Action: '".concat(s,"' - not defined."))}))},globalEventsActions:{"toggle-mobile-menu":function(e){var t=e.find(".hamburger"),s=conf.nodeDoc.find("#mobile-menu");t.toggleClass("active"),s.toggleClass("active"),conf.nodeBody.toggleClass("lock-body")},"close-modal":function(e){$.emit("on:modalClose")}},lazyImages:function(e){e||(e=document.querySelectorAll("[data-img]"));e.forEach((function(e){var t;t=e,new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.target.classList.add("fade-image"),e.isIntersecting){var s=e.target,a=s.getAttribute("data-img");s.style.backgroundImage="url(".concat(a,")"),s.classList.add("loaded"),t.unobserve(s)}}))})).observe(t)}))}},moduleApp={"hero-slider":function(e){var t=e.find(".swiper"),s=t.find(".swiper-pagination"),a=t.find(".is-arrow.is-arrow--next"),i=t.find(".is-arrow.is-arrow--prev");new Swiper(t,{speed:1e3,effect:"fade",loop:!0,allowTouchMove:!0,fadeEffect:{crossFade:!0},pagination:{el:s,clickable:!0},navigation:{nextEl:a,prevEl:i}})},"is-modal":function(e){var t={bodyClass:"is-modal__body",activeClass:"is-modal--active"},s=e.find("."+t.bodyClass);$.onEmit&&$.onEmit("on:modalOpen",(function(a){if(a&&a.title&&a.msg){var i="<h3>".concat(a.title,'</h3><p class="paragraph">').concat(a.msg,"</p>");s.html($(i)),e.addClass(t.activeClass)}})),$.onEmit&&$.onEmit("on:modalClose",(function(){e.removeClass(t.activeClass),s.empty()}))},"form-validation":function(e,t){t=t||!1;var s={fields:{attr:"validation",parentClass:"is-form-field",parentErrorState:"state-error",errorNode:"ff-error-parent",formFocusClass:"state-focus",formHasValueClass:"state-has-value",fromInitedClass:"state-inited",fieldInitidClass:"_field-inited",initialNodes:$(null)},form:{moduleParent:e,parent:e.find("form"),submitLinkClass:"js-form-submit",validFormClass:"form-state-valid",invalidFormClass:"form-state-invalid",progressFormClass:"form-state-progress",progressButtonClass:"button-state-progress"},inner:{submitCallback:t,realTimeCheck:!1,defaultFieldData:{mask:"none",require:!0,visible:!0,error:""}}},a={init:function(){a.initFields(),a.initEvents(),a.initFieldsMarkup(),a.initFormStatus()},initFields:function(){s.fields.initialNodes=s.form.parent.find("[data-"+s.fields.attr+"]")},initEvents:function(){s.form.parent.on("submit",a.eventFormSubmit),s.form.parent.find("."+s.form.submitLinkClass).on("click",a.eventSubmitLinkClick),e.on("keypress input change","[data-"+s.fields.attr+"]",a.eventChangeFields),e.on("keydown","[data-"+s.fields.attr+"]",a.eventFormSubmitEnter),e.on("focus","[data-"+s.fields.attr+"]",a.eventFocusEnter),e.on("blur","[data-"+s.fields.attr+"]",a.eventFocusLeave)},initFieldsMarkup:function(){s.form.parent.find("[data-"+s.fields.attr+"]:not(."+s.fields.fieldInitidClass+")").each((function(e,t){var a=$(t),i=a.data()[s.fields.attr],n=$.extend({},s.inner.defaultFieldData,i);n.error&&a.closest("."+s.fields.parentClass).append('<div class="'+s.fields.errorNode+'">'+n.error+"</div>"),a.addClass(s.fields.fieldInitidClass),a.closest("."+s.fields.parentClass).addClass(s.fields.fromInitedClass)}))},initFormStatus:function(){a.checkingFieldsAll(s.fields.initialNodes,!0)?(s.form.moduleParent.addClass(s.form.validFormClass),s.form.moduleParent.removeClass(s.form.invalidFormClass)):(s.form.moduleParent.removeClass(s.form.validFormClass),s.form.moduleParent.addClass(s.form.invalidFormClass))},eventFormSubmitEnter:function(e){return 13!=e.keyCode||(a.eventFormSubmit(),!1)},eventFormSubmit:function(){if(a.initFields(),a.initFieldsMarkup(),a.initFormStatus(),s.form.moduleParent.hasClass(s.form.progressFormClass))return!1;s.inner.realTimeCheck=!0;var e=a.checkingFieldsAll(s.fields.initialNodes);return 1==e&&(s.form.moduleParent.addClass(s.form.progressFormClass),$("."+s.form.submitLinkClass).addClass(s.form.progressButtonClass)),e&&s.inner.submitCallback?(s.inner.submitCallback(),!1):e},eventSubmitLinkClick:function(e){e.preventDefault(),s.inner.submitCallback=function(){var e=new FormData(s.form.parent[0]);$.ajax({url:s.form.parent.attr("action"),method:"post",data:e,cache:!1,contentType:!1,processData:!1,success:function(e){console.log(e.data),s.form.parent[0].reset(),s.form.moduleParent.removeClass(s.form.progressFormClass),$("."+s.form.submitLinkClass).removeClass(s.form.progressButtonClass),$.emit("on:modalOpen",e.data)},error:function(e){console.log(e)}})},a.eventFormSubmit()},eventChangeFields:function(){var e=$(this);$.extend({},e.data()[s.fields.attr],{thisField:e,thisValue:$.trim(e.val())});s.inner.realTimeCheck&&a.checkingField(e),a.initFormStatus()},checkingField:function(e,t){var i=!0,n=$.extend({},e.data()[s.fields.attr],{thisField:e,thisValue:$.trim(e.val())}),o=$.extend({},s.inner.defaultFieldData,n);return 0===e.val().length?e.closest("."+s.fields.parentClass).removeClass(s.fields.formHasValueClass):e.closest("."+s.fields.parentClass).addClass(s.fields.formHasValueClass),a.checkingMasks[o.mask]&&(a.checkingMasks[o.mask](o)||a.checkingMasks.visibleAndRequire(o)?t||e.closest("."+s.fields.parentClass).removeClass(s.fields.parentErrorState):(t||e.closest("."+s.fields.parentClass).addClass(s.fields.parentErrorState),i=!1)),i},checkingFieldsAll:function(e,t){var s={status:!0,focusFlag:!0,scrollNode:$("body,html"),scrollSpeed:300,scrollDelay:100,scrollOffsetShift:300};return e.each((function(e,i){var n=$(i);a.checkingField(n,t)||(s.status=!1,!s.focusFlag||t||n.is(":checkbox")||(s.focusFlag=!1,n.focus()))})),s.status},checkingMasks:{text:function(e){return e.thisValue.length>0},visibleAndRequire:function(e){return!(!e.visible||e.thisField.closest("."+s.fields.parentClass).is(":visible"))||!e.require&&0===e.thisValue.length}},eventFocusEnter:function(){$(this).closest("."+s.fields.parentClass).addClass(s.fields.formFocusClass)},eventFocusLeave:function(){$(this).closest("."+s.fields.parentClass).removeClass(s.fields.formFocusClass)}};a.init()}};document.addEventListener("DOMContentLoaded",(function(){globalApp.init()}));
//# sourceMappingURL=app.min.js.map