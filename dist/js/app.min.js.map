{"version":3,"sources":["app.js"],"names":["conf","xhrStatus","nodeBody","$","nodeDoc","document","globalApp","init","this","globalEventsInit","executeModules","$parent","find","$mods","each","thisModule","$thisModule","attr","thisModuleName","length","console","moduleApp","concat","log","on","e","preventDefault","$this","thisAction","val","data","value","thisValue","globalEventsActions","$burger","toggleClass","$menu","closeModal","emit","lazyImages","img","querySelectorAll","forEach","el","IntersectionObserver","entries","observer","target","classList","entry","isIntersecting","backgroundImage","style","getAttribute","item","unobserve","observe","element","$prevArrow","$swiperContainer","swiperParams","speed","effect","Swiper","crossFade","pagination","allowTouchMove","$bulletsContainer","fadeEffect","$nextArrow","prevEl","clickable","navigation","nextEl","$modalBody","bodyClass","activeClass","params","onEmit","msg","removeClass","classes","empty","tpl","addClass","thisCallback","fields","parentClass","parentErrorState","errorNode","formFocusClass","formHasValueClass","fromInitedClass","fieldInitidClass","initialNodes","form","moduleParent","parent","submitLinkClass","validFormClass","invalidFormClass","progressFormClass","progressButtonClass","inner","submitCallback","realTimeCheck","methods","mask","initFields","initEvents","initFieldsMarkup","$thisField","thisField","eventFormSubmit","thisFieldDataRaw","eventSubmitLinkClick","thisFieldData","defaultFieldData","eventChangeFields","eventFormSubmitEnter","eventFocusEnter","error","eventFocusLeave","i","closest","extend","initFormStatus","keyCode","returnState","checkingFieldsAll","ajax","method","contentType","success","result","err","formData","cache","checkingField","fieldStatus","trim","hiddenChecking","checkingMasks","checkingParams","$fields","status","focusFlag","scrollNode","scrollSpeed","text","scrollDelay","scrollOffsetShift","is","focus","visibleAndRequire","visible","require","addEventListener"],"mappings":"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","file":"app.min.js","sourcesContent":["const conf = {\n  'xhrStatus': false,\n  'nodeBody': $('body'),\n  'nodeDoc': $(document)\n};\n\nconst globalApp = {\n  'init': function() {\n    this.globalEventsInit();\n    this.executeModules();\n    this.lazyImages();\n  },\n  'executeModules': function($parent) {\n    $parent = $parent || conf.nodeBody;\n    var $mods = $parent.find('[data-is]');\n    $mods.each(function(i, thisModule) {\n      var $thisModule = $(thisModule);\n      var thisModuleName = $thisModule.attr('data-is');\n      if ($thisModule.closest('.hidden-content').length) {\n        console.log(`%cSkip: '${thisModuleName}' - module hidden.`, 'color:#444;');\n        return true;\n      }\n      if (moduleApp[thisModuleName]) {\n        console.log(`%cRun: '${thisModuleName}' - module executed.`, 'color:#009900;');\n        moduleApp[thisModuleName]($thisModule);\n      } else {\n        console.log(`%cError: '${thisModuleName}' - module not defined.`, 'color:#ff6347;');\n      }\n    });\n  },\n  'globalEventsInit': function() {\n    conf.nodeDoc.on('click', '[data-gclick]', function(e) {\n      e.preventDefault();\n      var $this = $(this);\n      var thisAction = $this.attr('data-gclick');\n      var thisValue = $this.val() || $this.data().value;\n      if (globalApp.globalEventsActions[thisAction]) {\n        globalApp.globalEventsActions[thisAction]($this, thisValue);\n      } else {\n        console.log(`Event: 'data-gclick', Action: '${thisAction}' - not defined.`);\n      }\n    });\n  },\n  'globalEventsActions': {\n    'toggle-mobile-menu': function($this) {\n      const $burger = $this.find('.hamburger');\n      const $menu = conf.nodeDoc.find('#mobile-menu');\n\n      $burger.toggleClass('active');\n      $menu.toggleClass('active');\n      conf.nodeBody.toggleClass('lock-body');\n    },\n    'close-modal': function($this) {\n      $.emit('on:modalClose');\n    }\n  },\n  lazyImages(img) {\n    if (!img) {\n      img = document.querySelectorAll('[data-img]');\n    }\n\n    const lazyLoadBackground = (element) => {\n      const observer = new IntersectionObserver((entries, observer) => {\n        entries.forEach((entry) => {\n          entry.target.classList.add('fade-image');\n          if (entry.isIntersecting) {\n            const item = entry.target;\n            const backgroundImage = item.getAttribute('data-img');\n            item.style.backgroundImage = `url(${backgroundImage})`;\n            item.classList.add('loaded');\n            observer.unobserve(item);\n          }\n        });\n      });\n\n      observer.observe(element);\n\n    }\n    img.forEach((el) => {\n      lazyLoadBackground(el);\n    });\n  }\n};\n\nconst moduleApp = {\n  'hero-slider': function($thisModule) {\n    const $swiperContainer = $thisModule.find('.swiper');\n    const $bulletsContainer = $swiperContainer.find('.swiper-pagination');\n    const $nextArrow = $swiperContainer.find('.is-arrow.is-arrow--next');\n    const $prevArrow = $swiperContainer.find('.is-arrow.is-arrow--prev');\n\n    let swiperParams = {\n      speed: 1000,\n      effect: 'fade',\n      loop: true,\n      allowTouchMove: true,\n      fadeEffect: {\n        crossFade: true\n      },\n      pagination: {\n        el: $bulletsContainer,\n        clickable: true\n      },\n      navigation: {\n        nextEl: $nextArrow,\n        prevEl: $prevArrow\n      }\n    };\n\n    const thisSwiper = new Swiper($swiperContainer, swiperParams);\n  },\n  'is-modal': function($thisModule) {\n    const params = {\n      'classes': {\n        'bodyClass': 'is-modal__body',\n        'activeClass': 'is-modal--active'\n      }\n    };\n    const $modalBody = $thisModule.find('.' + params.classes.bodyClass);\n    $.onEmit && $.onEmit('on:modalOpen', data => {\n      if(data && data.title && data.msg) {\n        const tpl = `<h3>${data.title}</h3><p class=\"paragraph\">${data.msg}</p>`;\n        $modalBody.html($(tpl));\n        $thisModule.addClass(params.classes.activeClass);\n      }\n    });\n    $.onEmit && $.onEmit('on:modalClose', () => {\n      $thisModule.removeClass(params.classes.activeClass);\n      $modalBody.empty();\n    });\n  },\n  'form-validation': function($thisModule, thisCallback) {\n\n    thisCallback = thisCallback || false;\n\n    var params = {\n      'fields': {\n        'attr': 'validation',\n        'parentClass': 'is-form-field',\n        'parentErrorState': 'state-error',\n        'errorNode': 'ff-error-parent',\n        'formFocusClass': 'state-focus',\n        'formHasValueClass': 'state-has-value',\n        'fromInitedClass': 'state-inited',\n        'fieldInitidClass': '_field-inited',\n        'initialNodes': $(null)\n      },\n      'form': {\n        'moduleParent': $thisModule,\n        'parent': $thisModule.find('form'),\n        'submitLinkClass': 'js-form-submit',\n        'validFormClass': 'form-state-valid',\n        'invalidFormClass': 'form-state-invalid',\n        'progressFormClass': 'form-state-progress',\n        'progressButtonClass': 'button-state-progress'\n      },\n      'inner': {\n        'submitCallback': thisCallback,\n        'realTimeCheck': false,\n        'defaultFieldData': {\n          'mask': 'none',\n          'require': true,\n          'visible': true,\n          'error': ''\n        }\n      }\n    };\n\n    var methods = {\n      'init': function() {\n        methods.initFields();\n        methods.initEvents();\n        methods.initFieldsMarkup();\n        methods.initFormStatus();\n      },\n      'initFields': function() {\n        params.fields.initialNodes = params.form.parent.find('[data-' + params.fields.attr + ']');\n      },\n      'initEvents': function() {\n        params.form.parent.on('submit', methods.eventFormSubmit);\n        params.form.parent.find('.' + params.form.submitLinkClass).on('click', methods.eventSubmitLinkClick);\n        $thisModule.on('keypress input change', '[data-' + params.fields.attr + ']', methods.eventChangeFields);\n        $thisModule.on('keydown', '[data-' + params.fields.attr + ']', methods.eventFormSubmitEnter);\n        $thisModule.on('focus', '[data-' + params.fields.attr + ']', methods.eventFocusEnter);\n        $thisModule.on('blur', '[data-' + params.fields.attr + ']', methods.eventFocusLeave);\n      },\n      'initFieldsMarkup': function() {\n        params.form.parent.find('[data-' + params.fields.attr + ']:not(.' + params.fields.fieldInitidClass + ')').each(function(i, thisField) {\n          var $thisField = $(thisField);\n          var thisFieldDataRaw = $thisField.data()[params.fields.attr];\n          var thisFieldData = $.extend({}, params.inner.defaultFieldData, thisFieldDataRaw);\n\n          // error message\n          if (thisFieldData.error) {\n            $thisField.closest('.' + params.fields.parentClass).append('<div class=\"' + params.fields.errorNode + '\">' + thisFieldData.error + '</div>');\n          }\n\n          $thisField.addClass(params.fields.fieldInitidClass);\n          $thisField.closest('.' + params.fields.parentClass).addClass(params.fields.fromInitedClass);\n        });\n      },\n      'initFormStatus': function() {\n        if (methods.checkingFieldsAll(params.fields.initialNodes, true)) {\n          params.form.moduleParent.addClass(params.form.validFormClass);\n          params.form.moduleParent.removeClass(params.form.invalidFormClass);\n        } else {\n          params.form.moduleParent.removeClass(params.form.validFormClass);\n          params.form.moduleParent.addClass(params.form.invalidFormClass);\n        }\n      },\n      'eventFormSubmitEnter': function(e) {\n        if (e.keyCode == 13) {\n          methods.eventFormSubmit();\n          return false;\n        }\n        return true;\n      },\n      'eventFormSubmit': function() {\n        methods.initFields();\n        methods.initFieldsMarkup();\n        methods.initFormStatus();\n\n        // if form in progress\n        if (params.form.moduleParent.hasClass(params.form.progressFormClass)) {\n          return false;\n        }\n\n        // enable real time checking\n        params.inner.realTimeCheck = true;\n\n        // return state - is a error state\n        // if `FALSE` - fields has error and submit is prevent\n        // if `TRUE` - no error and form going submit\n        var returnState = methods.checkingFieldsAll(params.fields.initialNodes);\n\n        // if fields valid then add progress state to form\n\n        if (returnState == true) {\n          params.form.moduleParent.addClass(params.form.progressFormClass);\n          $('.' + params.form.submitLinkClass).addClass(params.form.progressButtonClass);\n        }\n\n        // if submit callback\n        if (returnState && params.inner.submitCallback) {\n          params.inner.submitCallback();\n          return false;\n        }\n\n        return returnState;\n      },\n      'eventSubmitLinkClick': function(e) {\n        e.preventDefault();\n\n        params.inner.submitCallback = function() {\n          var formData = new FormData(params.form.parent[0]);\n\n          $.ajax({\n            url: params.form.parent.attr('action'),\n            method: 'post',\n            data: formData,\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: function(result) {\n              console.log(result.data)\n\n              params.form.parent[0].reset();\n              params.form.moduleParent.removeClass(params.form.progressFormClass);\n              $('.' + params.form.submitLinkClass).removeClass(params.form.progressButtonClass);\n\n              $.emit('on:modalOpen', result.data);\n\n            },\n            error: function(err) {\n              console.log(err)\n            }\n          });\n        };\n\n        methods.eventFormSubmit();\n      },\n      'eventChangeFields': function() {\n        var $thisField = $(this);\n        var thisFieldDataRaw = $.extend({}, $thisField.data()[params.fields.attr], {\n          thisField: $thisField,\n          thisValue: $.trim($thisField.val())\n        });\n\n        // checking this field\n        if (params.inner.realTimeCheck) {\n          methods.checkingField($thisField);\n        }\n\n        // hidden checking all field for submit status\n        methods.initFormStatus();\n      },\n      'checkingField': function($thisField, hiddenChecking) {\n        // hiddenChecking is check fields but don't change style\n\n        var fieldStatus = true;\n\n        var thisFieldDataRaw = $.extend({}, $thisField.data()[params.fields.attr], {\n          thisField: $thisField,\n          thisValue: $.trim($thisField.val())\n        });\n\n        var thisFieldData = $.extend({}, params.inner.defaultFieldData, thisFieldDataRaw);\n\n        // checking empty value\n\n        if ($thisField.val().length === 0) {\n          $thisField.closest('.' + params.fields.parentClass).removeClass(params.fields.formHasValueClass);\n        } else {\n          $thisField.closest('.' + params.fields.parentClass).addClass(params.fields.formHasValueClass);\n        }\n\n        // checking for mask\n        if (methods.checkingMasks[thisFieldData.mask]) {\n          if (methods.checkingMasks[thisFieldData.mask](thisFieldData) || methods.checkingMasks['visibleAndRequire'](thisFieldData)) {\n            // remove error class\n            if (!hiddenChecking) {\n              $thisField.closest('.' + params.fields.parentClass).removeClass(params.fields.parentErrorState);\n            }\n          } else {\n            // added error class\n            if (!hiddenChecking) {\n              $thisField.closest('.' + params.fields.parentClass).addClass(params.fields.parentErrorState);\n            }\n\n            // added error status\n            fieldStatus = false;\n          }\n        }\n\n        return fieldStatus;\n      },\n      'checkingFieldsAll': function($fields, hiddenChecking) {\n        var checkingParams = {\n          'status': true,\n          'focusFlag': true,\n          'scrollNode': $('body,html'),\n          'scrollSpeed': 300,\n          'scrollDelay': 100,\n          'scrollOffsetShift': 300\n        };\n        $fields.each(function(i, thisField) {\n          var $thisField = $(thisField);\n          var thisFieldStatus = methods.checkingField($thisField, hiddenChecking);\n          if (!thisFieldStatus) {\n            checkingParams.status = false;\n\n            // scroll to error field and focus\n            if (checkingParams.focusFlag && !hiddenChecking && !$thisField.is(':checkbox')) {\n              checkingParams.focusFlag = false;\n              $thisField.focus();\n            }\n          }\n        });\n        return checkingParams.status;\n      },\n      'checkingMasks': {\n        'text': function(data) {\n          return (data.thisValue.length > 0);\n        },\n\n        'visibleAndRequire': function(data) {\n          // invisible field\n          if (data.visible && !data.thisField.closest('.' + params.fields.parentClass).is(':visible')) {\n            return true;\n          }\n\n          // not require field\n          if (!data.require && data.thisValue.length === 0) {\n            return true;\n          }\n\n          // return default\n          return false;\n        }\n      },\n      'eventFocusEnter': function() {\n        $(this).closest('.' + params.fields.parentClass).addClass(params.fields.formFocusClass);\n      },\n      'eventFocusLeave': function() {\n        $(this).closest('.' + params.fields.parentClass).removeClass(params.fields.formFocusClass)\n      }\n    };\n\n    methods.init();\n\n  }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  globalApp.init();\n});"]}